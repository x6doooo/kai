angular.module("kaiDemo",["kai"]).constant("kai.mainNavTitle",'<img src="assets/images/kai-logo-black.png" style="height:22px">').constant("kai.mainNavList",[{key:"home",title:"Home",icon:"fa fa-home",url:"/#/home"},{key:"charts",title:"Charts",icon:"fa fa-area-chart",url:"/#/charts/base"},{key:"components",title:"components",icon:"fa fa-subway",url:"/#/components/table"}]).config(["$routeProvider",function(t){t.when("/home",{templateUrl:"demo/home/home.html",controller:"HomeCtrl"}).when("/charts/:which",{templateUrl:"demo/charts/index.html",controller:"ChartIndexCtrl"}).when("/components/:which",{templateUrl:"demo/components/index.html",controller:"DemoComponentsCtrl"}).otherwise({redirectTo:"/home"})}]),angular.module("kaiDemo").controller("HomeCtrl",[function(){}]),angular.module("kaiDemo").controller("TableDemoCtrl",["$scope",function(t){t.init=function(){t.options={search:!0,checkbox:!0,pagination:{itemsPerPage:2,current:1},topButtons:[{className:"btn btn-primary btn-sm",icon:"fa fa-edit",title:"Edit",action:function(t){console.log(t)}},{className:"btn btn-danger btn-sm",icon:"fa fa-trash",title:"Del",action:function(t){console.log(t)}}],buttons:[{className:"text-primary",icon:"fa fa-edit",title:"Edit",action:function(t){console.log(t)}},{className:"text-danger",icon:"fa fa-trash",title:"Del",action:function(t){console.log(t)}}]},t.fields=[{width:"10%",key:"country",title:"国家",sort:"string",valueHandler:function(t){return"美国"===t?'<span style="color:#08c">'+t+"</span>":"<b>"+t+"</b>"}},{width:"10%",key:"city",title:"城市",sort:"string"},{key:"code",title:"标识数字",sort:"number"},{width:"20%",key:"keywords",title:"关键词"},{width:"20%",key:"deepKey.subKey",title:"多层key",sort:"string"}],t.rows=[{country:"中国",city:"北京",code:1,keywords:"首都",deepKey:{subKey:"ttt"}},{country:"美国",city:"纽约",code:0,keywords:"曼哈顿",deepKey:{subKey:"cccc"}},{country:"新西兰",city:"奥克兰",code:6,keywords:""},{country:"澳大利亚",city:"悉尼",code:3,keywords:"新南威尔士州"},{country:"法国",city:"巴黎",code:4}]}}]),angular.module("kaiDemo").controller("DemoComponentsCtrl",["$scope","$routeParams",function(t,e){function o(t){return"demo/components/"+t+".html"}function n(){t.view=o(e.which)}t.siderNavList=[{key:"table",title:"table",icon:"fa fa-table",url:"/#/components/table"},{key:"form",title:"form",icon:"fa fa-file",url:"/#/components/form"},{key:"dialog",title:"dialog",icon:"fa fa-comment",url:"/#/components/dialog"}],t.$on("$routeChangeStart",function(){n()}),n()}]),angular.module("kaiDemo").controller("FormDemoCtrl",["$scope",function(t){t.formModel={},t.formName="aTestForm",t.fields=[{type:"text",key:"username",title:"用户名",required:!0,disabled:!1,tip:"请输入用户名",validators:[{type:"regexp",value:/^[0-9]+$/,tip:"只能是数字"},{type:"min",value:10,tip:""},{type:"minLen",value:10,tip:""}]},{type:"radio",key:"work",title:"职业",disabled:"",options:[{value:"codeFarmer",title:"码农"},{value:"codeWorker",title:"码工"}]}]}]),angular.module("kaiDemo").controller("DialogDemoCtrl",["$scope","dialogService",function(t,e){t.messageText="This is a test!",t.alert=function(){e.alert({content:t.messageText}).done(function(){alert("close")})},t.promptText="are you sure?",t.prompt=function(){e.prompt({content:t.promptText}).done(function(){alert("ok")}).fail(function(){alert("cancel")})}}]),angular.module("kaiDemo").controller("ChartIndexCtrl",["$scope","$routeParams",function(t,e){function o(t){return"demo/charts/"+t+".html"}function n(){t.view=o(e.which)}t.siderNavList=[{key:"base",title:"base",icon:"fa fa-file-code-o",url:"/#/charts/base"}],t.$on("$routeChangeStart",function(){n()}),n()}]),angular.module("kaiDemo").controller("ChartsBaseDemoCtrl",["$scope","highchartsConfigService",function(t,e){var o={options:{tooltip:{backgroundColor:"#fff",useHTML:!0,formatter:function(){if("int"===t.data.category){var e=this.points,o=dateTimeService.Time(new Date(this.x)).toString("yyyy-MM-dd")+"<br>",n=[];return _.each(e,function(t){var e=units.num2show(t.y,3),o=dateTimeService.Time(new Date(t.key)).toString("HH:mm:ss");n.push('<tr><td><span style="line-height:160%;color:'+t.series.color+'">●</span>&nbsp;'+t.series.name+'：</td><td style="padding-left:5px">'+e+'</td><td class="text-muted" style="padding-left:5px">( '+o+" )</td></tr>")}),o+"<table>"+n.join("")+"</table>"}return this.series.name+"： "+this.y}},chart:{type:"spline"}},size:{height:300}};t.init=function(){t.render()},t.render=function(){var n=e.New(o);n.options.xAxis={categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},n.series=[{name:"Tokyo",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Toky1o",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Tokyo2",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Tokyo3",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Tokyo4",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Tokyo5",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Tokyo7",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Tokyo9",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Tokyo8",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Tokyo10",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"Tokyo6",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"New York",data:[-.2,.8,5.7,11.3,17,22,24.8,24.1,20.1,14.1,8.6,2.5]},{name:"Berlin",data:[-.9,.6,3.5,8.4,13.5,17,18.6,17.9,14.3,9,3.9,1]},{name:"London",data:[3.9,4.2,5.7,8.5,11.9,15.2,17,16.6,14.2,10.3,6.6,4.8]}],t.chartConfig=n}}]),angular.module("kaiDemo").run(["$templateCache",function(t){t.put("demo/charts/base.html",'<div ng-controller="ChartsBaseDemoCtrl" ng-init="init()" style="padding:10px 20px" class="row"><highchart ng-attr-id="123" config="chartConfig"></highchart></div>'),t.put("demo/charts/index.html",'<div kai-sider-nav="" list="siderNavList" class="kai-left-container"></div><div class="kai-right-container"><div ng-include="view"></div></div>'),t.put("demo/components/dialog.html",'<div ng-controller="DialogDemoCtrl" ng-init="init()" style="padding:10px 20px" class="row"><div class="col-md-12"><h5>alert</h5><div class="form-inline"><input type="text" ng-model="messageText" class="form-control input-sm"> <button ng-click="alert()" class="btn btn-primary btn-sm">Go</button></div></div><div class="col-md-12"><h5>prompt</h5><div class="form-inline"><input type="text" ng-model="promptText" class="form-control input-sm"> <button ng-click="prompt()" class="btn btn-primary btn-sm">Go</button></div></div></div>'),t.put("demo/components/form.html",'<div ng-controller="FormDemoCtrl" ng-init="init()" style="padding:10px 20px;margin-top:30px;"><div kai-form="" form-name="formName" fields="fields" options="options" model="formModel"></div></div>'),t.put("demo/components/index.html",'<div kai-sider-nav="" list="siderNavList" class="kai-left-container"></div><div class="kai-right-container"><div ng-include="view"></div></div>'),t.put("demo/components/table.html",'<div ng-controller="TableDemoCtrl" ng-init="init()" style="padding:10px 20px;margin-top:20px"><div kai-table="" fields="fields" rows="rows" options="options"></div></div>'),t.put("demo/home/home.html",'<div class="container">12312<div class="jumbotron"><h1 style="font-size:200px;">Kai</h1><p>A dashboard with data visualization tools</p><p><a href="#" role="button" class="btn btn-primary btn-lg">Learn more</a></p></div></div>')}]);